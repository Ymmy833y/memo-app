const e="memo-app-cache-v2";self.addEventListener("install",t=>{t.waitUntil(fetch("./parcel-manifest.json").then(e=>e.json()).then(t=>{let a=Object.values(t).map(e=>new URL(e,self.location).toString()),s=new URL("./index.html",self.location).toString();return a.includes(s)||a.push(s),caches.open(e).then(e=>Promise.all(a.map(t=>e.add(t).catch(e=>(console.error(`Failed to add ${t} to cache:`,e),Promise.resolve())))))}).catch(e=>{console.error("Failed to load asset manifest:",e)}))}),self.addEventListener("activate",t=>{t.waitUntil(caches.keys().then(t=>Promise.all(t.filter(t=>t!==e).map(e=>caches.delete(e)))))}),self.addEventListener("fetch",e=>{e.request.url.includes("/ws")||e.respondWith(caches.match(e.request.url).then(t=>t||fetch(e.request).catch(()=>"navigate"===e.request.mode?caches.match(new URL("./index.html",self.location).toString()):new Response("",{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"text/plain"}}))))});
//# sourceMappingURL=sw.js.map
